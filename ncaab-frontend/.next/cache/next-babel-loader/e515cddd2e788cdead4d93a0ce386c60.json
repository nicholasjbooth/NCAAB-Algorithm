{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { Button, Form, Table } from 'react-bootstrap';\nimport API_ENDPOINT from \"./api/endpoint\";\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"componentDidMount\", () => {\n      fetch(`${API_ENDPOINT}/settings`, {\n        method: \"GET\"\n      }).then(res => res.json()).then(data => {\n        this.setState({\n          hcad: data.hcad,\n          hcao: data.hcao,\n          last_updated_hcam: data.last_updated_values,\n          last_updated_csv: data.last_updated_csv,\n          hcam: data.hcao\n        });\n      });\n    });\n\n    _defineProperty(this, \"onHCAMChange\", e => this.setState({\n      hcam: e.target.value\n    }));\n\n    _defineProperty(this, \"onPasswordChange\", e => this.setState({\n      password: e.target.value\n    }));\n\n    _defineProperty(this, \"onFileChange\", e => this.setState({\n      selectedFile: e.target.files[0]\n    }));\n\n    _defineProperty(this, \"onFileUpload\", () => {\n      const formData = new FormData();\n      if (this.state.selectedFile != null) formData.append(\"uploadedFile\", this.state.selectedFile, this.state.selectedFile.name);\n      formData.append(\"hcam\", this.state.hcam);\n      formData.append(\"password\", this.state.password);\n      fetch(`${API_ENDPOINT}/settings`, {\n        method: \"POST\",\n        body: formData\n      }).then(res => res.json()).then(data => this.setState({\n        hcad: data.hcad,\n        hcao: data.hcao,\n        last_updated_hcam: data.last_updated_values,\n        last_updated_csv: data.last_updated_csv\n      })).catch(err => this.setState({\n        responseMsg: err\n      }));\n    });\n\n    this.state = {\n      selectedFile: null,\n      password: \"\",\n      responseMsg: \"\",\n      hcam: 1\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: \"jsx-4089391373\" + \" \" + \"settings-parent secondary-color\",\n      children: [/*#__PURE__*/_jsxs(Table, {\n        variant: \"dark\",\n        className: \"flex-item\",\n        striped: true,\n        bordered: true,\n        hover: true,\n        children: [/*#__PURE__*/_jsx(\"thead\", {\n          className: \"jsx-4089391373\",\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            className: \"jsx-4089391373\",\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              className: \"jsx-4089391373\",\n              children: \"Variable\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              className: \"jsx-4089391373\",\n              children: \"Value\"\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(\"tbody\", {\n          className: \"jsx-4089391373\",\n          children: [/*#__PURE__*/_jsxs(\"tr\", {\n            className: \"jsx-4089391373\",\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              className: \"jsx-4089391373\",\n              children: \"HCAO\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              className: \"jsx-4089391373\",\n              children: this.state.hcao\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            className: \"jsx-4089391373\",\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              className: \"jsx-4089391373\",\n              children: \"HCAD\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              className: \"jsx-4089391373\",\n              children: this.state.hcad\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            className: \"jsx-4089391373\",\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              className: \"jsx-4089391373\",\n              children: \"HCAM Last Updated\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              className: \"jsx-4089391373\",\n              children: this.state.last_updated_hcam\n            })]\n          }), /*#__PURE__*/_jsxs(\"tr\", {\n            className: \"jsx-4089391373\",\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              className: \"jsx-4089391373\",\n              children: \"CSV Last Updated\"\n            }), /*#__PURE__*/_jsx(\"td\", {\n              className: \"jsx-4089391373\",\n              children: this.state.last_updated_csv\n            })]\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(Form, {\n        className: \"flex-item\",\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          className: \"jsx-4089391373\" + \" \" + \"mb-5\",\n          children: \"Settings\"\n        }), /*#__PURE__*/_jsx(\"input\", {\n          type: \"file\",\n          accept: \".csv\",\n          onChange: this.onFileChange,\n          className: \"jsx-4089391373\" + \" \" + \"mb-5 secondary-color\"\n        }), /*#__PURE__*/_jsxs(Form.Group, {\n          className: \"secondary-color\",\n          children: [/*#__PURE__*/_jsx(Form.Label, {\n            className: \"secondary-color\",\n            children: \"Home Court Advantage Multiplier\"\n          }), /*#__PURE__*/_jsx(Form.Control, {\n            type: \"text\",\n            placeholder: this.state.password,\n            onChange: this.onHCAMChange,\n            value: this.state.hcam\n          })]\n        }), /*#__PURE__*/_jsxs(Form.Group, {\n          className: \"secondary-color\",\n          children: [/*#__PURE__*/_jsx(Form.Label, {\n            className: \"secondary-color\",\n            children: \"Password\"\n          }), /*#__PURE__*/_jsx(Form.Control, {\n            type: \"password\",\n            placeholder: this.state.password,\n            onChange: this.onPasswordChange\n          })]\n        }), /*#__PURE__*/_jsx(Button, {\n          className: \"mb-5 primary-color\",\n          onClick: this.onFileUpload,\n          children: \"Submit\"\n        })]\n      }), /*#__PURE__*/_jsx(_JSXStyle, {\n        id: \"4089391373\",\n        children: [\".settings-parent{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border:5px solid #00adb5;border-radius:2rem;width:1300px;margin:5rem auto;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \".flex-item{margin:100px 100px;height:400px;width:500px;background-color:#393e46;}\"]\n      })]\n    });\n  }\n\n}\n\nexport default Settings;","map":null,"metadata":{},"sourceType":"module"}